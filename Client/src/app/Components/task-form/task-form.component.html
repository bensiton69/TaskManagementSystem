<h1>New Task</h1>
<button class="btn btn-primary" (click)="Test()">Test</button>
<form #f="ngForm" (ngSubmit)="submit()">
    <div class="form-group">
        <label for="owner">Owner</label>
        <select id="owner" class="form-control" (change)="onMakeChange()" [(ngModel)]="task.ownerId" name="owner" #owner="ngModel">
            <option value=""></option>
            <option *ngFor="let o of owners" [value]="o.id">{{o.name}}</option>
        </select>
    </div>
    <div class="form-group">
      <label for="status">Status</label>
      <select id="status" class="form-control" (change)="onMakeChange()" [(ngModel)]="task.status" name="status" #status="ngModel">
          <option value=""></option>
          <option *ngFor="let s of statuses; let i = index" [value]="i">{{s}}</option>
      </select>
  </div>
  <div class="form-group">
    <label for="urgentLevel">Urgent Level</label>
    <select id="urgentLevel" class="form-control" [(ngModel)]="task.urgentLevel" name="urgentLevel" #urgentLevel="ngModel">
        <option value=""></option>
        <option *ngFor="let u of urgentLevels; let i = index" [value]="i">{{u}}</option>
    </select>
</div>
    <div>
        <label for="date">Deadline</label>
        <form class="form-inline">
            <div class="form-group">
              <div class="input-group">
                <input class="form-control"
                       name="dp" [(ngModel)]="model" ngbDatepicker required (change)="onDateChange()" required="" #d="ngbDatepicker">
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button"></button>
                </div>
              </div>
            </div>
          </form>
          <pre>Model: {{ model | json }}</pre>

    </div>
    <div>

    </div>
    <div class="form-group">
        <label for="title">Title</label>
        <input id="title" type="text" class="form-control"  [(ngModel)]="task.title" name="title" #title="ngModel">
    </div>
    <div class="alert alert-danger" *ngIf="title.touched && !title.valid">Please specify the Make!</div>
    <div class="form-group">
        <label for="description">Description</label>
        <input id="description" type="text" class="form-control" [(ngModel)]="task.description" name="description" #description="ngModel">
    </div>
    <div class="alert alert-danger" *ngIf="description.touched && !description.valid">Please specify the Make!</div>
    <button class="btn btn-primary" [disabled]="!f.valid">Save</button>
    <button class="btn btn-danger" *ngIf="task.id" type="button" (click)="delete()" [disabled]="!f.valid">Delete</button>
</form>


